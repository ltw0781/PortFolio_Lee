<!DOCTYPE html>
<html xmlns:th="http: //www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{/layouts/board_layout}" lang="ko">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>게시판 목록</title>
    </head>

    <body layout:fragment="content">
        <section class="board-section">

            <!-- 상단: 제목 + 글쓰기 버튼 -->
            <div class="board-header">
                <h2>게시판</h2>
                <a href="/board/insert" class="btn-primary write-btn">글쓰기</a>
            </div>

            <!-- 검색 영역 -->
            <div class="search-box">
                <select class="category-select">
                    <option value="">카테고리 선택</option>
                    <option value="notice">공지사항</option>
                    <option value="event">이벤트</option>
                    <option value="free">자유게시판</option>
                </select>

                <input type="text" class="search-input" placeholder="검색어를 입력하세요" />
                <button class="btn-secondary search-btn">검색</button>
            </div>

            <!-- 게시글 목록 테이블 -->
            <div class="board-table glass">
                <table>
                    <thead>
                        <tr>
                            <th>번호</th>
                            <th>카테고리</th>
                            <th>제목</th>
                            <th>작성자</th>
                            <th>등록일</th>
                            <th>조회수</th>
                        </tr>
                    </thead>

                    <th:block th:each="board : ${boardList}">
                        <tr>
                            <td th:text="${board.no}"></td>
                            <td th:text="${board.category}"></a></td>
                            <td class="title"><a th:href="|/board/read?id=${board.id}|" th:text="${board.title}"></td>
                            <td th:text="${board.writer}">관리자</td>
                            <td th:text="${#dates.format(board.createdAt, 'YYYY-MM-dd')}"></td>
                            <td th:text="${board.viewCount}">120</td>
                        </tr>
                    </th:block>
                </table>
            </div>

            <!-- 페이지네이션 -->
            <nav class="paging" aria-label="Page navigation example">
                <div class="pagination">
                    <!-- [처음] -->
                    <a th:href="|/board/list?page=${page.first}|" class="page-btn">&laquo;</a>

                    <!-- [ 이전 ] -->
                    <th:block th:if="${page.page != page.first}">
                        <a th:href="|/board/list?page=${page.prev}|" class="page-btn">&lt;</a>
                    </th:block>

                    <!-- [페이지 번호]-->
                    <!-- #numbers.sequence(시작번호, 끝번호) : 시작번호 부터 끝번호까지 번호 리스트를 생성 -->
                    <th:block th:each="no : ${#numbers.sequence(page.first, page.last)}">
                        <!-- 현재 페이지 -->
                        <th:block th:if="${page.page == no}">
                            <b>
                                <a th:text="${no}" class="active page-btn"></a>
                            </b>
                        </th:block>
                        <th:block th:if="${page.page != no}">
                            <a th:href="|/board/list?page=${no}|" th:text="${no}" class="page-btn"></a>
                        </th:block>
                    </th:block>

                    <!-- [ 다음 ] -->
                    <th:block th:if="${page.page != page.last}" class="next">
                        <a th:href="|/board/list?page=${page.next}|" class="page-btn">&gt;</a>
                    </th:block>

                    <!-- [마지막] -->
                    <a th:href="|/board/list?page=${page.last}|" class="page-btn">&raquo;</a>
                </div>
            </nav>
            <!-- 페이지 네이션-->


        </section>

    </body>

    </html>